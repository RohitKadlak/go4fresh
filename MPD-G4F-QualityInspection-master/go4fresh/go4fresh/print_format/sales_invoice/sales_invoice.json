{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-09-26 10:51:52.331090",
 "css": ".textcenter{\n    text-align: center;\n  }\n  .borderclass{\n    border-bottom: 1px soolid dodgerblue;\n  }\n  table{\n    width: 100%;\n    text-align: left;\n    border-collapse: collapse;\n  }\n  table,td,th{\n    border: 1px solid dodgerblue;\n    font-size: 11px;\n  }\n  .print-format{\n    padding: 12px !important;\n  }\n  table.table1{\n      margin-top:2px;\n      page-break-inside:auto;\n  }\n  table.table1 thead{\n      display:table-header-group;\n  }",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set comp_address %}{% endset %}\n{% if doc.company_address %}\n  {% set comp_address = frappe.get_doc(\"Address\",doc.company_address) %}\n{% endif %}\n\n\n{% set company %}{% endset %}\n{% if doc.company %}\n  {% set company = frappe.get_doc(\"Company\",doc.company) %}\n{% endif %}\n\n{% set dn %}{% endset %}\n{% if doc.items[0].delivery_note %}\n  {% set dn = frappe.get_doc(\"Delivery Note\",doc.items[0].delivery_note) %}\n{% endif %}\n\n{% set so %}{% endset %}\n{% if doc.items[0].sales_order %}\n  {% set so = frappe.get_doc(\"Sales Order\",doc.items[0].sales_order) %}\n{% endif %}\n<table border=\"1px\" width=\"100%\">\n  <tr>\n    <td colspan=\"2\">\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n            <div class=\"col-xs-4\"></div>\n            <div class=\"col-xs-4\" style=\"text-align:center;font-size: 18px;\"><b>Sales Invoice-Tax</b></div>\n            <div class=\"col-xs-4\" style=\"text-align: right;\">Original Copy</div>\n          </div>\n        </div>\n    </td>\n  </tr>\n  <tr>\n    <td colspan=\"2\">\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-2\">\n            <img src=\"files/MicrosoftTeams-image-modified.png\" width=\"105\" height=\"80\">\n          </div>\n          <div class=\"col-xs-10\" style=\"text-align:center;\">\n            <b>{{doc.company}}</b><br><br>\n            {% if comp_address %}\n              {% if comp_address.address_line1 %}\n                {{ comp_address.address_line1 }},<br>\n              {% endif %}\n              {% if comp_address.address_line2 %}\n                {{ comp_address.address_line2 }},\n              {% endif %}\n              {% if comp_address.city %}\n                {{ comp_address.city }},\n              {% endif %}\n              {% if comp_address.county %}\n                {{ comp_address.county }},\n              {% endif %}\n              {% if comp_address.state %}\n                {{ comp_address.state }},\n              {% endif %}\n              {% if comp_address.pincode %}\n                {{ comp_address.pincode }}\n              {% endif %}\n            {% endif %}\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n  <tr>\n    <td colspan=\"2\">\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-4\">\n            <b>GSTIN : </b>\n              {% if doc.company_gstin %}\n                {{ doc.company_gstin }}\n              {% endif %}\n          </div>\n          <div class=\"col-xs-4\" style=\"text-align:center;\">\n            <b>PAN : </b>\n            {% if company %}\n              {% if company.pan_details %}\n                {{ company.pan_details }}\n              {% endif %}\n            {% endif %}\n          </div>\n          <div class=\"col-xs-4\" style=\"text-align: right;\">\n            <b>CIN : </b>U74900MH2013PTC242889\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n  <tr>\n    <td width=\"50%\">\n      <b>Bill To:</b><br>\n      {{doc.customer_name}}<br>\n      {% if doc.address_display %}\n        {{ doc.address_display }}\n      {% endif %}\n    </td>\n    <td width=\"50%\">\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>Invoice No.</b></div>\n          <div class=\"col-xs-7\">: <b>{{ doc.name }}</b></div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>Invoice Date</b></div>\n          <div class=\"col-xs-7\">: <b>{{ doc.get_formatted(\"posting_date\") }}</b></div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>Delivery Note</b></div>\n          <div class=\"col-xs-7\">\n            : {% if dn %}{% if dn.name %} {{ dn.name }} {% endif %}{% endif %} \n          </div>\n        </div>\n      </div><div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>DN Date</b></div>\n          <div class=\"col-xs-7\">: {% if dn %}{% if dn.posting_date %} {{ dn.get_formatted(\"posting_date\") }} {% endif %}{% endif %}</div>\n        </div>\n      </div><div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>PO No.</b></div>\n          <div class=\"col-xs-7\">: {{doc.po_no}}</div>\n        </div>\n      </div><div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>PO Date</b></div>\n          <div class=\"col-xs-7\">: {{ doc.get_formatted(\"po_date\") }}</div>\n        </div>\n      </div>\n    </td>\n  </tr>\n  <tr>\n    <td width=\"50%\">\n      <b>Ship To:</b><br>\n      {{doc.customer_name}}<br>\n      {% if doc.shipping_address %}\n        {{ doc.shipping_address }}\n      {% endif %}\n    </td>\n    <td width=\"50%\">\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>SO No.</b></div>\n          <div class=\"col-xs-7\">\n            : {% if so %}{% if so.name %} {{ so.name }} {% endif %}{% endif %} \n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>SO Date</b></div>\n          <div class=\"col-xs-7\">: {% if so %}{% if so.transaction_date %} {{ so.get_formatted(\"transaction_date\") }} {% endif %}{% endif %}</div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>Due Date</b></div>\n          <div class=\"col-xs-7\">: {{ doc.get_formatted(\"due_date\") }}</div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\"><b>Agent</b></div>\n        </div>\n      </div>\n    </td>\n  </tr>\n</table>\n<table border=\"1px\" width=\"100%\">\n  <tr>\n    <th style=\"text-align:center;width: 5%;\">Sr No.</th>\n    <th style=\"text-align:center;width: 15%\">Item Code</th>\n    <th style=\"text-align:center;width: 30%\">Particulars</th>\n    <th style=\"text-align:center;width: 10%\">HSN Code</th>\n    <th style=\"text-align:center;width: 10%\">Tax %</th>\n    <th style=\"text-align:center;width: 10%\">QTY</th>\n    <th style=\"text-align:center;width: 10%\">Rate</th>\n    <th style=\"text-align:center;width: 10%\">Amount</th>\n  </tr>\n    \n  {% set list = [] %}\n  {% set dict = {} %}\n  {% set tot_qty = [] %}\n  {% set avg_rate = [] %}\n  {% set tot_amt = 0 %}\n  {% set groups = doc.items|groupby('item_code') %}\n  {% set no_of_group = groups|length %}\n  {% set total_count = 0 %}\n  {% set group_count = 0 %}\n  {% set tot_inv_qty = doc.items|sum(attribute='qty') %}\n  {% set item_details = {\"total_qty\":0.0} %}  \n  {% for group in doc.items | groupby('item_code') %}\n    {% set group_count = group.list|length %}\n    {% set total_count = total_count + group_count %}\n    {% set count = 1 %} \n    {% set item_desc = [] %}\n    {% set ghc = [] %}\n    {% set itax = [] %}\n    {% set no = [] %} \n    {% set uom = [] %}\n    {% for item in group.list %}             \n      {% if count == 1 -%}\n        {% set _ = item_desc.append(item.item_name) %}\n        {% set _ = ghc.append(item.gst_hsn_code) %}\n        {% set _ = itax.append(item.item_tax_template) %}\n        {% set _ = no.append(item.idx) %}\n        {% set _ = uom.append(item.uom) %}          \n      {%- endif %}\n      {% set count = count + 1 %}\n    {%- endfor %}\n    {% set ic %}{% endset %}\n    {% if group.grouper %}\n      {% set ic = frappe.get_doc(\"Item\",group.grouper) %}\n    {% endif %}\n    <tr>\n      <td style=\"text-align:center;\">{{loop.index}}</td>\n      <td style=\"text-align:center;\">\n        {% if ic %}\n          {% for k in ic.customer_items %}\n            {% if k.customer_name == doc.customer %}\n              {{ k.ref_code }}\n            {% endif %}\n          {% endfor %}\n        {% endif %}\n      </td>\n      <td style=\"text-align: left;\">{{ item_desc[0] }}</td>\n      <td  style=\"text-align:center;\">{% if ghc[0] %}{{ghc[0]}}{% endif %}</td>\n      <td style=\"text-align:center;\">{% if itax[0] %}{{itax[0]}}{% endif %}</td>\n      {% set tot_qty = group.list|sum(attribute='qty') %}\n      {% set tot_amt = group.list|sum(attribute='net_amount') %}\n      {% set avg_rate = tot_amt / tot_qty %}\n      <td style=\"text-align: right;\">{{ (tot_qty | round(2)|string).rstrip('0').rstrip('.') }} {{uom[0]}}</td>\n      <td style=\"text-align: right;\">{{ \"{:,.2f}\".format(avg_rate) }}</td>      \n      <td style=\"text-align: right;\">{{ \"{:,.2f}\".format(tot_amt) }}</td>\n    </tr>\n  {% endfor %}\n\n  <tr>\n    <td></td>\n    <td></td>\n    <td style=\"text-align: right;\">\n      Sub Total\n      {% if doc.taxes %}\n        {% for a in doc.taxes %}\n          <br>{{a.description}}\n        {% endfor %}\n      {% else %}\n        <br>CGST\n        <br>SGST\n        <br>IGST\n      {% endif %}\n      <br>Round Off\n    </td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td style=\"text-align:right;\">\n      {{ \"%.2f\"|format(doc.total) }}\n      {% if doc.taxes %}\n        {% for a in doc.taxes %}\n          <br>{{ \"%.2f\"|format(a.tax_amount) }}\n\n        {% endfor %}\n      {% else %}\n        <br>0.00\n        <br>0.00\n        <br>0.00\n      {% endif %}\n      <br>{{ \"%.2f\"|format(doc.rounding_adjustment) }}\n    </td>\n  </tr>\n  <tr>\n    <th style=\"border-right: none;\"></th>\n    <th style=\"border-right: none;border-left: none;\"></th>\n    <th style=\"border-left: none; text-align: right;\"><b>Total</b></th>\n    <th style=\"border-right: none;\"></th>\n    <th style=\"border-right: none;border-left: none;\"></th>\n    <th style=\"border-right: none;border-left: none;text-align: right;\"><b>{{ \"%.2f\"|format(doc.total_qty) }}</b></th>\n    <th style=\"border-right: none;border-left: none;\"></th>\n    <th style=\"border-left: none; text-align: right;\"><b>{{ \"%.2f\"|format(doc.outstanding_amount) }}</b></th>\n  </tr>\n</table>\n<table>\n  <tr>\n    <td colspan=\"2\">\n      <b>Amount(in words):</b>&nbsp;&nbsp;&nbsp;&nbsp;{{doc.in_words}}\n    </td>\n  </tr>\n  <tr>\n    <td width=\"50%\">\n      Remarks:\n    </td>\n    <td width=\"50%\">\n      <b>Company's Bank Detail :</b><br>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\">Name of Bank</div>\n          <div class=\"col-xs-7\">: HDFC Bank</div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\">Name of Branch</div>\n          <div class=\"col-xs-7\">: Vashi</div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\">Account No.</div>\n          <div class=\"col-xs-7\">: 05400340000218</div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <div class=\"col-xs-5\">IFSC Code</div>\n          <div class=\"col-xs-7\">: HDFC0000540</div>\n        </div>\n      </div>\n\n    </td>\n  </tr>\n  <tr>\n    <td></td>\n    <td style=\"text-align:right;\">\n      <b>\n        For, Fresh Produce Value Creation Services Pvt. Ltd.<br>\n        <img src=\"/files/signature.jpeg\" width=\"95\" height=\"80\">\n        <br>Authorized Signatory\n      </b>\n    </td>\n  </tr>\n</table>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-10-03 10:44:11.965844",
 "modified_by": "Administrator",
 "module": "Go4Fresh",
 "name": "Sales Invoice",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}